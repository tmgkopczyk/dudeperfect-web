{% extends "base.html" %}
{% block title %}{{ video.title }}{% endblock %}

{% block content %}

<section class="space-y-6">

  <!-- Back link -->
<button
  type="button"
  onclick="if (history.length > 1) history.back(); else window.location='/'"
  class="text-sm text-neutral-500 hover:text-[#2EFCE6]"
>
  ← Back
</button>>
  <!-- Title -->
  <header class="space-y-1">
    <h1 class="text-3xl font-semibold text-neutral-900">
      {{ video.title }}
    </h1>

    {% if video.youtube_video_id %}
      <a
        href="https://www.youtube.com/watch?v={{ video.youtube_video_id }}"
        target="_blank"
        class="text-sm text-[#2EFCE6] hover:underline"
      >
        Watch on YouTube →
      </a>
    {% endif %}
  </header>

  <hr class="border-neutral-300">

  <!-- Songs section -->
  <section class="space-y-3">
    <h2 class="text-xl font-medium text-neutral-900">
      Songs used
    </h2>

    {% if video.songs %}
      <ul class="space-y-3">
        {% for song in video.songs %}
          <li class="border border-gray-200 rounded p-3 hover:bg-gray-50">
            <a
              href="/songs/{{ song.id }}"
              class="font-semibold hover:text-[#2EFCE6]"
            >
              {{ song.title }}
            </a>

            {% if song.artists %}
              <div class="text-sm text-neutral-600">
                {{ song.artists | join(', ') }}
              </div>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-neutral-600 italic">
        No songs currently linked to this video.
      </p>
    {% endif %}
  </section>

</section>

{% endblock %}
