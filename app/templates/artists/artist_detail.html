{% extends "base.html" %}
{% block title %}{{ artist.name }}{% endblock %}

{% block content %}

<section class="space-y-6">

  <!-- Back link -->
  <button
  type="button"
  onclick="if (history.length > 1) history.back(); else window.location='/songs';"
  class="text-sm text-neutral-500 hover:text-[#2EFCE6]"
>
  ‚Üê Back
</button>

  <!-- Title -->
  <header>
    <h1 class="text-3xl font-semibold text-neutral-900">
      {{ artist.name }}
    </h1>
  </header>

  <hr class="border-neutral-300">

  <!-- Songs section -->
  <section class="space-y-3">
    <h2 class="text-xl font-medium text-neutral-900">
      Songs
    </h2>

    {% if artist.songs %}
      <ul class="space-y-3">
        {% for song in artist.songs %}
          <li class="border border-gray-200 rounded p-3 hover:bg-gray-50">
            <a
              href="/songs/{{ song.id }}"
              class="font-semibold hover:text-[#2EFCE6]"
            >
              {{ song.title }}
            </a>

            {% if song.videos %}
              <div class="text-sm text-neutral-600 mt-1">
                Used in {{ song.videos | length }}
                video{{ '' if song.videos|length == 1 else 's' }}
              </div>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-neutral-600 italic">
        No songs currently linked to this artist.
      </p>
    {% endif %}
  </section>

</section>

{% endblock %}
